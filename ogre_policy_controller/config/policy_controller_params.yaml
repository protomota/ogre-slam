ogre_policy_controller:
  ros__parameters:
    # Path to trained model (leave empty to auto-find in models/ directory)
    model_path: ""

    # Model type: 'onnx' or 'jit'
    model_type: "onnx"

    # Output mode: 'twist' (for Nav2), 'joint_state' (for Isaac Sim direct control), or 'wheel_velocities'
    output_mode: "joint_state"

    # Topic configuration
    # joint_state mode: subscribes to /cmd_vel_smoothed (from Nav2 velocity_smoother), publishes JointState to /joint_command (to Isaac Sim)
    # twist mode: subscribes to input_topic, publishes Twist to output_topic
    input_topic: "/cmd_vel_smoothed"
    output_topic: "/joint_command"

    # CRITICAL: action_scale is max wheel velocity in rad/s sent to articulation controller
    # Must match training config exactly!
    action_scale: 8.0

    # Velocity limits - MUST match training config!
    # These are BODY velocities (m/s), not wheel velocities (rad/s)
    # Max achievable body vel = 8 rad/s Ã— 0.04m = 0.32 m/s
    max_lin_vel: 0.5
    max_ang_vel: 2.0

    # Control loop frequency (Hz)
    control_frequency: 30.0

    # Robot parameters for forward kinematics (wheel velocities -> Twist)
    wheel_radius: 0.040    # 40mm
    wheelbase: 0.095       # 95mm front-rear
    track_width: 0.205     # 205mm left-right

    # Wheel joint names must match TRAINING order: [FL, FR, RL, RR]
    # Policy outputs actions in this order, so we send to joints in this order
    wheel_joint_names:
      - "fl_joint"
      - "fr_joint"
      - "rl_joint"
      - "rr_joint"
